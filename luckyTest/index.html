<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<title>Egret - HTML5 landing page</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/font-awesome.min.css" />
	<link rel="stylesheet" href="css/linea-icon.css" />
	<link rel="stylesheet" href="css/fancy-buttons.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/responsive.css" />
	<link rel="stylesheet" id="scheme-source" href="css/schemes/gray.css" />
</head>
<body>
	<div id="header" class="header-section">
		<div id="section-home" class="home-section-wrap center">
			<div class="section-overlay"></div>
			<div class="container home">
				<div class="row">
					<h1 class="well-come">趋 吉 避 凶</h1>
					<div class="col-md-8 col-md-offset-2">
						<p class="intro-message">Ji Xiong is just there！</p>
						<div class="home-buttons">
							<input class="fancy-button button-line button-white vertical" name="suan1" type="submit" id="suan1" value="一日一卦"  />
							<input class="fancy-button button-line button-white vertical" name="suan2" type="submit" id="suan2" value="一日多占" onclick="calculateJiXiong('multiple');" />
						</div>
					</div>
				</div>
				<div id="resultSingle" style="display: none;">
					<h2>一日一占结果：</h2>
					<p id="resultTextSingle"></p>
				</div>

				<div id="resultMultiple" style="display: none;">
					<h2>一日多占结果：</h2>
					<p id="resultTextMultiple"></p>
				</div>
			</div>
		</div>
	</div>
	<script>
            // 确保 DOM 加载完成后运行代码
        document.addEventListener("DOMContentLoaded", function() {
            // 找到按钮并添加点击事件监听器
	    console.log("进入dom监控：");
            const button = document.getElementById("suan1");
		
            if (button) {
		console.log("找到了button：",button);  
		try{
		debugger
                button.addEventListener("click", function() {
                    // 发送消息到父窗口
		    debugger
                    window.parent.postMessage({ event: "buttonClick", data: "buttonClick" }, "*");
		    console.log("发送了消息："); 
                });
		}catch(e){
		     console.log("exception：",e); 
		}
            } else {
		debugger
                console.log("按钮未找到，请检查 ID 是否正确");
            }
        });
	window.addEventListener("message",function(event){
		if(event.data.event === "execFuntion"){
			alert(" exec ok!");
			calculateJiXiong('single');
			console.log("message from main page is ok");
		}
	});
	debugger
	console.log("已经跳出，按钮可能未找到，请检查 ID 是否正确");	
    </script>
	
    <script type="text/javascript" src="js/qigua.js"></script>
	
</body>
</html>
